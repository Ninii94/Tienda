{"ast":null,"code":"var _jsxFileName = \"D:\\\\Nini\\\\programacion\\\\Tienda\\\\src\\\\components\\\\Cart\\\\Cart.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport CartItem from './CartItem';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Cart({\n  cart,\n  onRemove,\n  onQuantityChange\n}) {\n  _s();\n  const total = cart.reduce((acc, item) => acc + item.price * item.quantity, 0);\n  const handleRemove = item => {\n    onRemove(item);\n  };\n  const handleQuantityChange = (item, newQuantity) => {\n    onQuantityChange(item, newQuantity);\n  };\n  useEffect(() => {\n    const mp = new window.MercadoPago('TU_PUBLIC_KEY');\n    const cardForm = mp.cardForm({\n      amount: total,\n      // Monto total del carrito\n      iframe: true,\n      form: {\n        id: 'form-checkout',\n        cardNumber: {\n          id: 'form-checkout__cardNumber',\n          placeholder: 'Numero de tarjeta'\n        },\n        expirationDate: {\n          id: 'form-checkout__expirationDate',\n          placeholder: 'MM/YY'\n        },\n        securityCode: {\n          id: 'form-checkout__securityCode',\n          placeholder: 'Código de seguridad'\n        },\n        cardholderName: {\n          id: 'form-checkout__cardholderName',\n          placeholder: 'Titular de la tarjeta'\n        },\n        issuer: {\n          id: 'form-checkout__issuer',\n          placeholder: 'Banco emisor'\n        },\n        installments: {\n          id: 'form-checkout__installments',\n          placeholder: 'Cuotas'\n        },\n        identificationType: {\n          id: 'form-checkout__identificationType',\n          placeholder: 'Tipo de documento'\n        },\n        identificationNumber: {\n          id: 'form-checkout__identificationNumber',\n          placeholder: 'Número del documento'\n        },\n        cardholderEmail: {\n          id: 'form-checkout__cardholderEmail',\n          placeholder: 'E-mail'\n        }\n      },\n      callbacks: {\n        onFormMounted: error => {\n          if (error) return console.warn('Form Mounted handling error: ', error);\n          console.log('Form mounted');\n        },\n        onSubmit: event => {\n          event.preventDefault();\n          const {\n            paymentMethodId: payment_method_id,\n            issuerId: issuer_id,\n            cardholderEmail: email,\n            amount,\n            token,\n            installments,\n            identificationNumber,\n            identificationType\n          } = cardForm.getCardFormData();\n\n          // Enviar datos al backend para procesar el pago\n          fetch('/process_payment', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              token,\n              issuer_id,\n              payment_method_id,\n              transaction_amount: Number(amount),\n              installments: Number(installments),\n              description: 'Descripción del producto',\n              payer: {\n                email,\n                identification: {\n                  type: identificationType,\n                  number: identificationNumber\n                }\n              }\n            })\n          });\n        },\n        onFetching: resource => {\n          console.log('Fetching resource: ', resource);\n\n          // Animar la barra de progreso\n          const progressBar = document.querySelector('.progress-bar');\n          progressBar.removeAttribute('value');\n          return () => {\n            progressBar.setAttribute('value', '0');\n          };\n        }\n      }\n    });\n  }, [total]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cart-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Carrito de Compras\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"cart-items\",\n      children: cart.map(item => /*#__PURE__*/_jsxDEV(CartItem, {\n        item: item,\n        onRemove: handleRemove,\n        onQuantityChange: handleQuantityChange\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cart-summary\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Resumen de Compra\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"total\",\n        children: [\"Total: $\", total.toFixed(2)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"payment-button\",\n        children: \"Pagar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 5\n  }, this);\n}\n_s(Cart, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = Cart;\nexport default Cart;\n\n/*import React from 'react';\r\nimport CartItem from './CartItem';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction Cart({ cart, onRemove, onQuantityChange, showAlert }) {\r\n  const total = cart.reduce((acc, item) => acc + item.price * item.quantity, 0);\r\n  const navigate = useNavigate();\r\n\r\n  const handlePayment = () => {\r\n    window.open('https://www.mercadopago.com', '_blank');\r\n  };\r\n\r\n  const handleRemove = (item) => {\r\n    onRemove(item);\r\n  };\r\n\r\n  const handleQuantityChange = (item, newQuantity) => {\r\n    onQuantityChange(item, newQuantity);\r\n  };\r\n  return (\r\n    <div className=\"cart-container\">\r\n      <div className=\"cart-items\">\r\n        {cart.map((item) => (\r\n          <CartItem\r\n            key={item.id}\r\n            item={item}\r\n            onRemove={handleRemove}\r\n            onQuantityChange={handleQuantityChange}\r\n          />\r\n        ))}\r\n      </div>\r\n      <div className=\"cart-summary\">\r\n        <h2>Resumen de compra</h2>\r\n        <div className=\"total\">\r\n        \r\n        </div>\r\n        <div className=\"total\">\r\n          <p>Total</p>\r\n          <p>${total.toFixed(2)}</p>\r\n        </div>\r\n        <button className=\"payment-button\" onClick={handlePayment}> Pagar</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Cart;\r\n\r\n*/\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["React","CartItem","jsxDEV","_jsxDEV","Cart","cart","onRemove","onQuantityChange","_s","total","reduce","acc","item","price","quantity","handleRemove","handleQuantityChange","newQuantity","useEffect","mp","window","MercadoPago","cardForm","amount","iframe","form","id","cardNumber","placeholder","expirationDate","securityCode","cardholderName","issuer","installments","identificationType","identificationNumber","cardholderEmail","callbacks","onFormMounted","error","console","warn","log","onSubmit","event","preventDefault","paymentMethodId","payment_method_id","issuerId","issuer_id","email","token","getCardFormData","fetch","method","headers","body","JSON","stringify","transaction_amount","Number","description","payer","identification","type","number","onFetching","resource","progressBar","document","querySelector","removeAttribute","setAttribute","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","toFixed","_c","$RefreshReg$"],"sources":["D:/Nini/programacion/Tienda/src/components/Cart/Cart.js"],"sourcesContent":["import React from 'react';\r\nimport CartItem from './CartItem';\r\n\r\n\r\n\r\nfunction Cart({ cart, onRemove, onQuantityChange }) {\r\n  const total = cart.reduce((acc, item) => acc + item.price * item.quantity, 0);\r\n  \r\n\r\n  const handleRemove = (item) => {\r\n    onRemove(item);\r\n  };\r\n\r\n  const handleQuantityChange = (item, newQuantity) => {\r\n    onQuantityChange(item, newQuantity);\r\n  };\r\n  useEffect(() => {\r\n    const mp = new window.MercadoPago('TU_PUBLIC_KEY');\r\n\r\n    const cardForm = mp.cardForm({\r\n      amount: total, // Monto total del carrito\r\n      iframe: true,\r\n      form: {\r\n        id: 'form-checkout',\r\n        cardNumber: {\r\n          id: 'form-checkout__cardNumber',\r\n          placeholder: 'Numero de tarjeta',\r\n        },\r\n        expirationDate: {\r\n          id: 'form-checkout__expirationDate',\r\n          placeholder: 'MM/YY',\r\n        },\r\n        securityCode: {\r\n          id: 'form-checkout__securityCode',\r\n          placeholder: 'Código de seguridad',\r\n        },\r\n        cardholderName: {\r\n          id: 'form-checkout__cardholderName',\r\n          placeholder: 'Titular de la tarjeta',\r\n        },\r\n        issuer: {\r\n          id: 'form-checkout__issuer',\r\n          placeholder: 'Banco emisor',\r\n        },\r\n        installments: {\r\n          id: 'form-checkout__installments',\r\n          placeholder: 'Cuotas',\r\n        },\r\n        identificationType: {\r\n          id: 'form-checkout__identificationType',\r\n          placeholder: 'Tipo de documento',\r\n        },\r\n        identificationNumber: {\r\n          id: 'form-checkout__identificationNumber',\r\n          placeholder: 'Número del documento',\r\n        },\r\n        cardholderEmail: {\r\n          id: 'form-checkout__cardholderEmail',\r\n          placeholder: 'E-mail',\r\n        },\r\n      },\r\n      callbacks: {\r\n        onFormMounted: (error) => {\r\n          if (error) return console.warn('Form Mounted handling error: ', error);\r\n          console.log('Form mounted');\r\n        },\r\n        onSubmit: (event) => {\r\n          event.preventDefault();\r\n\r\n          const {\r\n            paymentMethodId: payment_method_id,\r\n            issuerId: issuer_id,\r\n            cardholderEmail: email,\r\n            amount,\r\n            token,\r\n            installments,\r\n            identificationNumber,\r\n            identificationType,\r\n          } = cardForm.getCardFormData();\r\n\r\n          // Enviar datos al backend para procesar el pago\r\n          fetch('/process_payment', {\r\n            method: 'POST',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n              token,\r\n              issuer_id,\r\n              payment_method_id,\r\n              transaction_amount: Number(amount),\r\n              installments: Number(installments),\r\n              description: 'Descripción del producto',\r\n              payer: {\r\n                email,\r\n                identification: {\r\n                  type: identificationType,\r\n                  number: identificationNumber,\r\n                },\r\n              },\r\n            }),\r\n          });\r\n        },\r\n        onFetching: (resource) => {\r\n          console.log('Fetching resource: ', resource);\r\n\r\n          // Animar la barra de progreso\r\n          const progressBar = document.querySelector('.progress-bar');\r\n          progressBar.removeAttribute('value');\r\n\r\n          return () => {\r\n            progressBar.setAttribute('value', '0');\r\n          };\r\n        },\r\n      },\r\n    });\r\n  }, [total]);\r\n  return (\r\n    <div className=\"cart-container\">\r\n      <h2>Carrito de Compras</h2>\r\n      <ul className=\"cart-items\">\r\n        {cart.map((item) => (\r\n          <CartItem\r\n            key={item.id}\r\n            item={item}\r\n            onRemove={handleRemove}\r\n            onQuantityChange={handleQuantityChange}\r\n          />\r\n        ))}\r\n      </ul>\r\n      <div className=\"cart-summary\">\r\n        <h3>Resumen de Compra</h3>\r\n        <p className=\"total\">Total: ${total.toFixed(2)}</p>\r\n        <button className=\"payment-button\">Pagar</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Cart;\r\n\r\n/*import React from 'react';\r\nimport CartItem from './CartItem';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction Cart({ cart, onRemove, onQuantityChange, showAlert }) {\r\n  const total = cart.reduce((acc, item) => acc + item.price * item.quantity, 0);\r\n  const navigate = useNavigate();\r\n\r\n  const handlePayment = () => {\r\n    window.open('https://www.mercadopago.com', '_blank');\r\n  };\r\n\r\n  const handleRemove = (item) => {\r\n    onRemove(item);\r\n  };\r\n\r\n  const handleQuantityChange = (item, newQuantity) => {\r\n    onQuantityChange(item, newQuantity);\r\n  };\r\n  return (\r\n    <div className=\"cart-container\">\r\n      <div className=\"cart-items\">\r\n        {cart.map((item) => (\r\n          <CartItem\r\n            key={item.id}\r\n            item={item}\r\n            onRemove={handleRemove}\r\n            onQuantityChange={handleQuantityChange}\r\n          />\r\n        ))}\r\n      </div>\r\n      <div className=\"cart-summary\">\r\n        <h2>Resumen de compra</h2>\r\n        <div className=\"total\">\r\n        \r\n        </div>\r\n        <div className=\"total\">\r\n          <p>Total</p>\r\n          <p>${total.toFixed(2)}</p>\r\n        </div>\r\n        <button className=\"payment-button\" onClick={handlePayment}> Pagar</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Cart;\r\n\r\n*/"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}